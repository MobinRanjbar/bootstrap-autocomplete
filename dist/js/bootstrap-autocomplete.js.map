{"version":3,"file":"bootstrap-autocomplete.js","sources":["../../src/js/util.js","../../src/js/autocomplete.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): util.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\n\n/**\n * ------------------------------------------------------------------------\n * Private TransitionEnd Helpers\n * ------------------------------------------------------------------------\n */\n\nconst TRANSITION_END = 'transitionend'\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\nfunction toType(obj) {\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\nfunction getSpecialTransitionEndEvent() {\n  return {\n    bindType: TRANSITION_END,\n    delegateType: TRANSITION_END,\n    handle(event) {\n      if ($(event.target).is(this)) {\n        return event.handleObj.handler.apply(this, arguments) // eslint-disable-line prefer-rest-params\n      }\n      return undefined // eslint-disable-line no-undefined\n    }\n  }\n}\n\nfunction transitionEndEmulator(duration) {\n  let called = false\n\n  $(this).one(Util.TRANSITION_END, () => {\n    called = true\n  })\n\n  setTimeout(() => {\n    if (!called) {\n      Util.triggerTransitionEnd(this)\n    }\n  }, duration)\n\n  return this\n}\n\nfunction setTransitionEndSupport() {\n  $.fn.emulateTransitionEnd = transitionEndEmulator\n  $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst Util = {\n\n  TRANSITION_END: 'bsTransitionEnd',\n\n  getUID(prefix) {\n    do {\n      // eslint-disable-next-line no-bitwise\n      prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(prefix))\n    return prefix\n  },\n\n  getSelectorFromElement(element) {\n    let selector = element.getAttribute('data-target')\n\n    if (!selector || selector === '#') {\n      const hrefAttr = element.getAttribute('href')\n      selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''\n    }\n\n    try {\n      return document.querySelector(selector) ? selector : null\n    } catch (err) {\n      return null\n    }\n  },\n\n  getTransitionDurationFromElement(element) {\n    if (!element) {\n      return 0\n    }\n\n    // Get transition-duration of the element\n    let transitionDuration = $(element).css('transition-duration')\n    let transitionDelay = $(element).css('transition-delay')\n\n    const floatTransitionDuration = parseFloat(transitionDuration)\n    const floatTransitionDelay = parseFloat(transitionDelay)\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0]\n    transitionDelay = transitionDelay.split(',')[0]\n\n    return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n  },\n\n  reflow(element) {\n    return element.offsetHeight\n  },\n\n  triggerTransitionEnd(element) {\n    $(element).trigger(TRANSITION_END)\n  },\n\n  // TODO: Remove in v5\n  supportsTransitionEnd() {\n    return Boolean(TRANSITION_END)\n  },\n\n  isElement(obj) {\n    return (obj[0] || obj).nodeType\n  },\n\n  typeCheckConfig(componentName, config, configTypes) {\n    for (const property in configTypes) {\n      if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n        const expectedTypes = configTypes[property]\n        const value         = config[property]\n        const valueType     = value && Util.isElement(value)\n          ? 'element' : toType(value)\n\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          throw new Error(\n            `${componentName.toUpperCase()}: ` +\n            `Option \"${property}\" provided type \"${valueType}\" ` +\n            `but expected type \"${expectedTypes}\".`)\n        }\n      }\n    }\n  },\n\n  findShadowRoot(element) {\n    if (!document.documentElement.attachShadow) {\n      return null\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode()\n      return root instanceof ShadowRoot ? root : null\n    }\n\n    if (element instanceof ShadowRoot) {\n      return element\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null\n    }\n\n    return Util.findShadowRoot(element.parentNode)\n  }\n}\n\nsetTransitionEndSupport()\n\nexport default Util\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap Autocomplete (v0.0.2): autocomplete.js\n * Licensed under MIT (https://github.com/iqbalfn/bootstrap-autocomplete/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME               = 'autocomplete'\nconst VERSION            = '0.0.2'\nconst DATA_KEY           = 'bs.autocomplete'\nconst EVENT_KEY          = `.${DATA_KEY}`\nconst DATA_API_KEY       = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst Default = {\n    list            : null,\n\n    prefetch        : null,\n\n    filter          : null,\n    filterDelay     : 300,\n    filterMinChars  : 1,\n\n    maxResult       : 10,\n\n    preProcess      : null\n}\n\nconst DefaultType = {\n    list            : '(null|string|element)',\n    prefetch        : '(null|string)',\n    filter          : '(null|string)',\n\n    filterDelay     : 'number',\n    filterMinChars  : 'number',\n\n    maxResult       : 'number',\n\n    preProcess      : '(null|function)'\n}\n\nconst Event = {\n    BLUR_DATA_API       : `blur${EVENT_KEY}${DATA_API_KEY}`,\n    CLICK_DATA_API      : `click${EVENT_KEY}${DATA_API_KEY}`,\n    KEYDOWN_DATA_API    : `keydown${EVENT_KEY}${DATA_API_KEY}`,\n    INPUT_DATA_API      : `input${EVENT_KEY}${DATA_API_KEY}`,\n}\n\nconst ClassName = {\n    DROPDOWN_MENU : 'dropdown-menu',\n    DROPDOWN_ITEM : 'dropdown-item'\n}\n\nconst KeyCode = {\n    ARROW_DOWN  : 40,\n    ARROW_UP    : 38,\n    ENTER       : 13,\n    ESCAPE      : 27\n}\n\nconst Selector = {}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Autocomplete {\n    constructor(element, config) {\n        this._config    = this._getConfig(config)\n        this._element   = element\n\n        this._items     = []\n        this._labels    = {}\n\n        this._isShown   = false\n        this._dropdown  = null\n        this._spinner   = null\n        this._result    = []\n        this._query     = ''\n        this._preventClose = false\n        this._timer     = null\n\n        if(element.hasAttribute('list')){\n            this._config.list = '#' + element.getAttribute('list')\n            element.removeAttribute('list')\n        }\n\n        if(!this._config.list && !this._config.prefetch && !this._config.filter)\n            throw new TypeError(`No data source provided`)\n\n        element.setAttribute('autocomplete', 'off')\n\n        this._makeDropdown()\n        this._makeSpinner()\n        this._fetchPresetData()\n        this._addElementListener()\n    }\n\n    // Getters\n\n    static get VERSION() {\n        return VERSION\n    }\n\n    static get Default() {\n        return Default\n    }\n\n    // Public\n\n    show(){\n        if(this._isShown)\n            return\n\n        if(this._result.length)\n            this._showDropdown()\n    }\n\n    hide(){\n        if(!this._isShown)\n            return\n\n        this._hideDropdown()\n    }\n\n    dispose() {\n        $(this._element).off(EVENT_KEY)\n\n        $.removeData(this._element, DATA_KEY)\n\n        this._config    = null\n        this._element   = null\n        this._items     = null\n        this._labels    = null\n        this._isShown   = null\n        this._dropdown  = null\n        this._spinner   = null\n        this._result    = null\n        this._query     = null\n        this._preventClose = null\n        if(this._timer)\n            clearTimeout(this._timer)\n        this._timer     = null\n    }\n\n    // Private\n\n    _addElementListener(){\n        $(this._element).on(Event.KEYDOWN_DATA_API, e => {\n            let prevent = false\n\n            switch(e.keyCode){\n                case KeyCode.ARROW_DOWN:\n                    if(e.altKey && !this._isShown){\n                        this._query = this._element.value.trim().toLowerCase()\n\n                        if(this._query){\n                            this._findFromList()\n                            prevent = true\n                        }\n                    }else{\n                        this._focusNext()\n                        prevent = true\n                    }\n                    break;\n\n                case KeyCode.ARROW_UP:\n                    this._focusPrev()\n                    prevent = true\n                    break;\n                \n                case KeyCode.ENTER:\n                    if(this._isShown){\n                        let focus = $(this._dropdown).children('.active').get(0)\n                        if(!focus)\n                            focus = $(this._dropdown).children(':first-child').get(0)\n\n                        if(focus)\n                            this._element.value = focus.innerText\n\n                        this.hide()\n                        prevent = true\n                    }\n                    break;\n                \n                case KeyCode.ESCAPE:\n                    prevent = true\n                    this.hide()\n                    break;\n            }\n\n            if(prevent)\n                e.preventDefault()\n        })\n\n        $(this._element).on(Event.INPUT_DATA_API, e => {\n            this._query = this._element.value.trim().toLowerCase()\n\n            if(!this._query){\n                this._truncateDropdown()\n                this.hide()\n            }else{\n                this._findFromList()\n            }\n        })\n\n        $(this._element).on(Event.BLUR_DATA_API, e => {\n            if(this._preventClose)\n                return\n            setTimeout(() => this.hide(), 150)\n        })\n    }\n\n    _fetchPresetData(){\n        // from datalist\n        if(this._config.list){\n            let dataList = this._config.list\n            if(typeof dataList === 'string')\n                dataList = document.querySelector(this._config.list)\n\n            if(dataList){\n                Array.from(dataList.children).forEach(o => {\n                    let val = o.innerHTML.toLowerCase()\n                    if(this._items.includes(val))\n                        return\n\n                    this._items.push(val)\n                    this._labels[val] = o.innerHTML\n                })\n            }\n        }\n\n        // from prefetch\n        if(this._config.prefetch){\n            this._showSpinner()\n            $.get(this._config.prefetch, res => {\n                this._hideSpinner()\n                if(this._config.preProcess)\n                    res = this._config.preProcess(res)\n\n                res.forEach(i => {\n                    let val = i.toLowerCase()\n                    if(this._items.includes(val))\n                        return\n                    this._items.push(val)\n                    this._labels[val] = i\n                })\n            })\n        }\n    }\n\n    _findFromAjax(){\n        if(!this._config.filter)\n            return\n        if(this._dropdown.children.length >= this._config.maxResult)\n            return\n\n        if(this._timer)\n            clearTimeout(this._timer)\n\n        let vval = this._query\n        this._timer = setTimeout(() => {\n            if(vval != this._query)\n                return\n            this._showSpinner()\n\n            let url = this._config.filter\n                .replace(/%23/g, '#')\n                .replace('#QUERY#', this._query)\n            $.get(url, res => {\n                this._hideSpinner()\n                if(this._config.preProcess)\n                    res = this._config.preProcess(res)\n\n                let local = []\n                res.forEach(i => {\n                    let val = i.toLowerCase()\n                    if(this._items.includes(val))\n                        return\n                    \n                    this._items.push(val)\n                    this._labels[val] = i\n\n                    local.push(i)\n                    this._result.push(i)\n                })\n\n                if(local.length)\n                    this._renderItem(local)\n\n                if(this._result.length)\n                    this.show()\n                else\n                    this.hide()\n            })\n        }, this._config.filterDelay)\n    }\n\n    _findFromList(){\n        this._truncateDropdown()\n        this._result = []\n\n        let local = []\n        this._items.forEach(i => {\n            if(!i.includes(this._query))\n                return\n\n            let label = this._labels[i]\n\n            if(this._result.includes(label))\n                return\n\n            local.push(label)\n            this._result.push(label)\n        })\n\n        // now render the result\n        if(local.length){\n            this._renderItem(local)\n            this.show()\n        }else{\n            this.hide()\n        }\n\n        this._findFromAjax()\n    }\n\n    _focusNext(){\n        let next = $(this._dropdown).children(':first-child').get(0)\n        let focused = $(this._dropdown).children('.active').get(0)\n\n        if(focused){\n            focused.classList.remove('active')\n            let tmpNext = $(focused).next().get(0)\n            if(tmpNext)\n                next = tmpNext\n        }\n\n        if(next)\n            next.classList.add('active')\n    }\n\n    _focusPrev(){\n        let next = $(this._dropdown).children(':last-child').get(0)\n        let focused = $(this._dropdown).children('.active').get(0)\n\n        if(focused){\n            focused.classList.remove('active')\n            let tmpNext = $(focused).prev().get(0)\n            if(tmpNext)\n                next = tmpNext\n        }\n\n        if(next)\n            next.classList.add('active')\n    }\n\n    _hideDropdown(){\n        this._isShown = false\n        this._dropdown.classList.remove('show')\n    }\n\n    _hideSpinner(){\n        this._spinner.style.display = 'none'\n    }\n\n    _getConfig(config) {\n        config = {\n            ...Default,\n            ...config\n        }\n        Util.typeCheckConfig(NAME, config, DefaultType)\n        return config\n    }\n\n    _makeDropdown(){\n        this._element.parentNode.style.position = 'relative'\n\n        let tmpl = '<div class=\"dropdown-menu\" style=\"width:100%\"></div>'\n\n        this._dropdown = $(tmpl).appendTo(this._element.parentNode).get(0)\n\n    }\n\n    _makeSpinner(){\n        let tmpl = '<div class=\"spinner-border spinner-border-sm text-secondary\" role=\"status\"></div>'\n\n        this._spinner = $(tmpl).appendTo(this._element.parentNode).get(0)\n\n        $(this._spinner).css({\n            position : 'absolute',\n            right    : $(this._element).css('padding-right'),\n            top      : (this._element.offsetTop + ((this._element.offsetHeight - this._spinner.offsetHeight)/2)) + 'px'\n        })\n\n        this._hideSpinner()\n    }\n\n    _renderItem(items){\n        items.forEach(i => {\n            if(this._dropdown.children.length >= this._config.maxResult)\n                return\n\n            $('<a class=\"dropdown-item\" href=\"#\"></a>')\n                .text(i)\n                .appendTo(this._dropdown)\n                .on(Event.CLICK_DATA_API, e => {\n                    this._preventClose = true\n                    this._element.value = e.target.innerText\n                    this.hide()\n                    e.preventDefault()\n                    this._preventClose = false\n                })\n        })\n    }\n\n    _showDropdown(){\n        this._isShown = true\n        this._dropdown.classList.add('show')\n    }\n\n    _showSpinner(){\n        this._spinner.style.display = 'inline-block'\n    }\n\n    _truncateDropdown(){\n        this._dropdown.innerHTML = ''\n    }\n\n    // Static\n\n    static _jQueryInterface(config, relatedTarget) {\n        return this.each(function () {\n            let data = $(this).data(DATA_KEY)\n            const _config = {\n                ...Default,\n                ...$(this).data(),\n                ...typeof config === 'object' && config ? config : {}\n            }\n\n            if (!data) {\n                data = new Autocomplete(this, _config)\n                $(this).data(DATA_KEY, data)\n            }\n\n            if (typeof config === 'string') {\n                if (typeof data[config] === 'undefined')\n                    throw new TypeError(`No method named \"${config}\"`)\n                data[config](relatedTarget)\n            }\n        })\n    }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Autocomplete._jQueryInterface\n$.fn[NAME].Constructor = Autocomplete\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Autocomplete._jQueryInterface\n}\n\nexport default Autocomplete"],"names":["TRANSITION_END","MAX_UID","MILLISECONDS_MULTIPLIER","toType","obj","toString","call","match","toLowerCase","getSpecialTransitionEndEvent","bindType","delegateType","handle","event","$","target","is","handleObj","handler","apply","arguments","undefined","transitionEndEmulator","duration","called","one","Util","setTimeout","triggerTransitionEnd","setTransitionEndSupport","fn","emulateTransitionEnd","special","getUID","prefix","Math","random","document","getElementById","getSelectorFromElement","element","selector","getAttribute","hrefAttr","trim","querySelector","err","getTransitionDurationFromElement","transitionDuration","css","transitionDelay","floatTransitionDuration","parseFloat","floatTransitionDelay","split","reflow","offsetHeight","trigger","supportsTransitionEnd","Boolean","isElement","nodeType","typeCheckConfig","componentName","config","configTypes","property","Object","prototype","hasOwnProperty","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","parentNode","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","Default","list","prefetch","filter","filterDelay","filterMinChars","maxResult","preProcess","DefaultType","Event","BLUR_DATA_API","CLICK_DATA_API","KEYDOWN_DATA_API","INPUT_DATA_API","KeyCode","ARROW_DOWN","ARROW_UP","ENTER","ESCAPE","Autocomplete","_config","_getConfig","_element","_items","_labels","_isShown","_dropdown","_spinner","_result","_query","_preventClose","_timer","hasAttribute","removeAttribute","TypeError","setAttribute","_makeDropdown","_makeSpinner","_fetchPresetData","_addElementListener","show","length","_showDropdown","hide","_hideDropdown","dispose","off","removeData","clearTimeout","on","e","prevent","keyCode","altKey","_findFromList","_focusNext","_focusPrev","focus","children","get","innerText","preventDefault","_truncateDropdown","dataList","Array","from","forEach","o","val","innerHTML","includes","push","_showSpinner","res","_hideSpinner","i","_findFromAjax","vval","url","replace","local","_renderItem","label","next","focused","classList","remove","tmpNext","add","prev","style","display","position","tmpl","appendTo","right","top","offsetTop","items","text","_jQueryInterface","relatedTarget","each","data","Constructor","noConflict"],"mappings":"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"}